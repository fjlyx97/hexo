---
title: CI系统
date: 2020-05-22 15:10:08
tags:
- CI系统
- 自动化
categories : "自动化构建"
---

> - CI系统概念
> - 记录相关理论

<!--more-->


# CI系统含义（持续集成）
CI系统全称Continuous Integration，持续集成。可以看成是一条工厂的流水线，个人开发者每次完成自己的分支后，系统会自动将该分支和指定分支进行合并，编译，测试，打包出一个程序，保存到指定位置。（简而言之，把所有人的代码整合起来，跑通测试，变成一个能用的版本）

- 参考知乎回答
1. 标准化编译环境
2. 团队协同开发（快速发现错误）
3. 自动化部署

## 相应名词
- 持续 (Continuous)：不断的获取反馈，响应反馈
- 集成 (Integration)：编译、测试、打包
- 部署 (Deployment)：应用生效到相应环境
- 发布 (Release)：具有业务影响的功能变化对最终用户可见称为“发布”。

# 为什么需要CI系统
- 近似问题：为什么不在本地构建项目，而需要用CI服务器构建
1. 本地是开发机，开发人员自己配置环境，变化因素多
2. 如果频繁手动操作，假设一天连续发布了十几个版本，配各种环境，累

# 持续交付（Continuous Delivery）
频繁的将新版本交付给质量团队或者用户，进行审核，如果审核通过，进入到持续部署的阶段

# 持续部署（Continuous Deployment）
拿到持续交付审核过的最新版本之后，自动部署到生产环境

# 流程
1. 开发者向仓库提交代码
2. 代码仓库对commit配置了钩子（监控commit提交），只要有人提交代码，就会跑自动化测试
3. 跑通测试后，会将代码合并到主干（master），进行build（构建环境，安装依赖）
4. 二次测试（可以省略）
5. 部署，将代码打包到生产或测试服务器，生产服务器自动进行解包，启动

# 腾讯QCI系统
由CSIG部门打造，将开发，集成，测试，发布，部署全部整合。即以上CI，CD系统被合并了